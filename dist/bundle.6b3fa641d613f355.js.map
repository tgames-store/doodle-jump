{"version":3,"file":"bundle.6b3fa641d613f355.js","mappings":"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","sources":["webpack:///./src/script.js"],"sourcesContent":["// RequestAnimFrame: a browser API for getting smooth animations\nwindow.requestAnimFrame = ( function() {\n    return window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.oRequestAnimationFrame ||\n        window.msRequestAnimationFrame ||\n        function(callback) {\n            window.setTimeout(callback, 1000 / 60);\n        };\n})();\n\n// todo: Разобраться с багом по очкам\n// todo: Исправить внешний вид методов\n\nvar canvas = document.getElementById('canvas'),\nctx = canvas.getContext('2d');\n\nconst playButton = document.getElementById('start');\nplayButton.addEventListener('click', init);\n\nconst resetButton =  document.getElementById('reset');\nresetButton.addEventListener('click', reset);\n\nconst containerButton = document.querySelector('.btn-container');\n\n// var width = 422,\n// height = 552;\nconst width = Math.min(window.innerWidth, 422);\nconst height = window.innerHeight;\n\ncanvas.width = width;\ncanvas.height = height;\n\nwindow.addEventListener('resize', () => {\n    canvas.width = window.screen.width;\n    canvas.height = window.screen.height;\n})\n\n//Variables for game\nvar platforms = [],\nimage = document.getElementById(\"sprite\"),\nplayer, platformCount = 10,\nposition = 0,\ngravity = 0.2,\nanimloop,\nflag = 0,\nmenuloop, broken = 0,\ndir, score = 0, firstRun = true;\n\n//Base object\nvar Base = function() {\n    this.height = 5;\n    this.width = width;\n\n    //Sprite clipping\n    this.cx = 0;\n    this.cy = 614;\n    this.cwidth = 100;\n    this.cheight = 5;\n\n    this.moved = 0;\n\n    this.x = 0;\n    this.y = height - this.height;\n\n    this.draw = function() {\n        try {\n            ctx.drawImage(\n                image,\n                this.cx,\n                this.cy,\n                this.cwidth,\n                this.cheight,\n                this.x,\n                this.y,\n                this.width,\n                this.height\n            );\n        } catch (e) {}\n    };\n};\n\nvar base = new Base();\n\n//Player object\nvar Player = function() {\n    this.vy = 11;\n    this.vx = 0;\n\n    this.isMovingLeft = false;\n    this.isMovingRight = false;\n    this.isDead = false;\n\n    this.width = 55;\n    this.height = 40;\n\n    //Sprite clipping\n    this.cx = 0;\n    this.cy = 0;\n    this.cwidth = 110;\n    this.cheight = 80;\n\n    this.dir = \"left\";\n\n    this.x = width / 2 - this.width / 2;\n    this.y = height;\n\n    //Function to draw it\n    this.draw = function() {\n        try {\n            if (this.dir == \"right\") {\n                this.cy = 121;\n            } else if (this.dir == \"left\") {\n                this.cy = 201;\n            } else if (this.dir == \"right_land\") {\n                this.cy = 289;\n            } else if (this.dir == \"left_land\") {\n                this.cy = 371;\n            }\n\n            ctx.drawImage(\n                image,\n                this.cx,\n                this.cy,\n                this.cwidth,\n                this.cheight,\n                this.x,\n                this.y,\n                this.width,\n                this.height\n            );\n        } catch (e) {}\n    };\n\n    this.jump = function() {\n        this.vy = -8;\n        // document.getElementById('audio').innerHTML='<audio src=\"sounds/jump.mp3\" preload=\"auto\" autoplay autobuffer></audio>'\n    };\n\n    this.jumpHigh = function() {\n        this.vy = -16;\n        // document.getElementById('audio').innerHTML='<audio src=\"sounds/jump.mp3\" preload=\"auto\" autoplay autobuffer></audio>'\n    };\n};\n\nplayer = new Player();\n\n//Platform class\n\nfunction Platform() {\n    this.width = 70;\n    this.height = 17;\n\n    this.x = Math.random() * (width - this.width);\n    this.y = position;\n\n    position += (height / platformCount);\n\n    this.flag = 0;\n    this.state = 0;\n\n    //Sprite clipping\n    this.cx = 0;\n    this.cy = 0;\n    this.cwidth = 105;\n    this.cheight = 31;\n\n    //Function to draw it\n    this.draw = function() {\n        try {\n            if (this.type == 1) {\n                this.cy = 0;\n            } else if (this.type == 2) {\n                this.cy = 61;\n            } else if (this.type == 3 && this.flag === 0) {\n                this.cy = 31;\n            } else if (this.type == 3 && this.flag == 1) {\n                this.cy = 1000;\n            } else if (this.type == 4 && this.state === 0) {\n                this.cy = 90;\n            } else if (this.type == 4 && this.state == 1) {\n                this.cy = 1000;\n            }\n\n            ctx.drawImage(\n                image,\n                this.cx,\n                this.cy,\n                this.cwidth,\n                this.cheight,\n                this.x,\n                this.y,\n                this.width,\n                this.height\n            );\n        } catch (e) {}\n    };\n\n    //Platform types\n    //1: Normal\n    //2: Moving\n    //3: Breakable (Go through)\n    //4: Vanishable\n    //Setting the probability of which type of platforms should be shown at what score\n    if (score >= 5000) {\n        this.types = [2, 3, 3, 3, 4, 4, 4, 4];\n    } else if (score >= 2000 && score < 5000) {\n        this.types = [2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4];\n    } else if (score >= 1000 && score < 2000) {\n        this.types = [2, 2, 2, 3, 3, 3, 3, 3];\n    } else if (score >= 500 && score < 1000) {\n        this.types = [1, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3];\n    } else if (score >= 100 && score < 500) {\n        this.types = [1, 1, 1, 1, 2, 2];\n    } else {\n        this.types = [1];\n    }\n\n    this.type = this.types[Math.floor(Math.random() * this.types.length)];\n\n    //We can't have two consecutive breakable platforms otherwise it will be impossible to reach another platform sometimes!\n    if (this.type == 3 && broken < 1) {\n        broken++;\n    } else if (this.type == 3 && broken >= 1) {\n        this.type = 1;\n        broken = 0;\n    }\n\n    this.moved = 0;\n    this.vx = 1;\n}\n\nfor ( var i = 0; i < platformCount; i++ ) {\n    platforms.push(new Platform());\n}\n\n//Broken platform object\nvar Platform_broken_substitute = function() {\n    this.height = 30;\n    this.width = 70;\n\n    this.x = 0;\n    this.y = 0;\n\n    //Sprite clipping\n    this.cx = 0;\n    this.cy = 554;\n    this.cwidth = 105;\n    this.cheight = 60;\n\n    this.appearance = false;\n\n    this.draw = function() {\n        try {\n            if (this.appearance === true) {\n                ctx.drawImage(\n                    image,\n                    this.cx,\n                    this.cy,\n                    this.cwidth,\n                    this.cheight,\n                    this.x,\n                    this.y,\n                    this.width,\n                    this.height\n                );\n            } else {\n                return;\n            }\n        } catch (e) {}\n    };\n};\n\nvar platform_broken_substitute = new Platform_broken_substitute();\n\n//Spring Class\nvar spring = function() {\n    this.x = 0;\n    this.y = 0;\n\n    this.width = 26;\n    this.height = 30;\n\n    //Sprite clipping\n    this.cx = 0;\n    this.cy = 0;\n    this.cwidth = 45;\n    this.cheight = 53;\n\n    this.state = 0;\n\n    this.draw = function() {\n        try {\n            if (this.state === 0) {\n                this.cy = 445;\n            } else if (this.state == 1) {\n                this.cy = 501;\n            }\n\n            ctx.drawImage(\n                image,\n                this.cx,\n                this.cy,\n                this.cwidth,\n                this.cheight,\n                this.x,\n                this.y,\n                this.width,\n                this.height\n            );\n        } catch (e) {}\n    };\n};\n\nvar Spring = new spring();\n\nfunction init() {\n    tgames.gameStarted();\n\n    //Variables for the game\n    let\tdir = \"left\",\n    jumpCount = 0;\n\n    const leftButton = document.getElementById('left-btn');\n    const rightButton = document.getElementById('right-btn');\n    containerButton.style.display = 'flex';\n    firstRun = false;\n\n    //Function for clearing canvas in each consecutive frame\n\n    function paintCanvas() {\n        ctx.clearRect(0, 0, width, height);\n    }\n\n    function handleKeydown(event) {\n        var key = event.keyCode;\n\n        if (key == 37) {\n            dir = \"left\";\n            player.isMovingLeft = true;\n        } else if (key == 39) {\n            dir = \"right\";\n            player.isMovingRight = true;\n        }\n\n        if (key == 32) {\n            if ( firstRun === true ) {\n                init();\n            } else {\n                reset();\n            }\n        }\n    };\n\n    function handleKeyup(event) {\n        var key = event.keyCode;\n\n        if (key == 37) {\n            dir = \"left\";\n            player.isMovingLeft = false;\n        } else if (key == 39) {\n            dir = \"right\";\n            player.isMovingRight = false;\n        }\n    };\n\n    function handleTouchStart(event, side) {\n        event.preventDefault();\n        if (side === 'left') {\n            leftButton.style.background = 'red';\n            dir = \"left\";\n            player.isMovingLeft = true;\n        } else if (side === 'right')  {\n            rightButton.style.background = 'red';\n            dir = \"right\";\n            player.isMovingRight = true;\n        }\n    }\n\n    function handleTouchEnd(event, side) {\n        event.preventDefault();\n        if (side === 'left') {\n            leftButton.style.background = 'darkgrey';\n            dir = \"left\";\n            player.isMovingLeft = false;\n        } else if (side === 'right'){\n            rightButton.style.background = 'darkgrey';\n            dir = \"right\";\n            player.isMovingRight = false;\n        }\n    }\n\n    // Player related calculations and functions\n\n    function playerCalc() {\n        if (dir == \"left\") {\n            player.dir = \"left\";\n            if (player.vy < -7 && player.vy > -15) {\n                player.dir = \"left_land\";\n            }\n        } else if (dir == \"right\") {\n            player.dir = \"right\";\n            if (player.vy < -7 && player.vy > -15) {\n                player.dir = \"right_land\";\n            }\n        }\n\n        // add controls with keyboard\n        document.onkeydown = handleKeydown;\n        document.onkeyup = handleKeyup;\n\n        // add btn controls for mobile\n        leftButton.addEventListener('touchstart', (event) => handleTouchStart(event, 'left'));\n        rightButton.addEventListener('touchstart', (event) => handleTouchStart(event, 'right'));\n\n        leftButton.addEventListener('touchend', (event) => handleTouchEnd(event, 'left'));\n        rightButton.addEventListener('touchend', (event) => handleTouchEnd(event, 'right'));\n\n        // Accelerations produces when the user hold the keys\n        if (player.isMovingLeft === true) {\n            player.x += player.vx;\n            player.vx -= 0.15;\n        } else {\n            player.x += player.vx;\n            if ( player.vx < 0 ) {\n                player.vx += 0.1;\n            }\n        }\n\n        if (player.isMovingRight === true) {\n            player.x += player.vx;\n            player.vx += 0.15;\n        } else {\n            player.x += player.vx;\n            if (player.vx > 0) {\n                player.vx -= 0.1;\n            }\n        }\n\n        //Jump the player when it hits the base\n        if ((player.y + player.height) > base.y && base.y < height) {\n            player.jump();\n        }\n\n        // Gameover if it hits the bottom\n        if (base.y > height && (player.y + player.height) > height && player.isDead != \"lol\") {\n            player.isDead = true;\n            // document.getElementById('audio').innerHTML='<audio src=\"sounds/jump.mp3\" preload=\"auto\" autoplay autobuffer></audio>'\n        }\n\n        // Make the player move through walls\n        if (player.x > width) {\n            player.x = 0 - player.width;\n        } else if (player.x < 0 - player.width) {\n            player.x = width;\n        }\n\n        // Movement of player affected by gravity\n        if (Math.ceil(player.y) >= Math.floor(height / 2 - player.height / 2)) {\n            player.y += player.vy;\n            player.vy += gravity;\n        } else {\n            //When the player reaches half height, move the platforms to create the illusion of scrolling and recreate the platforms that are out of viewport...\n            platforms.forEach(function(p, i) {\n                if (player.vy < 0) {\n                    p.y -= player.vy;\n                }\n\n                if (p.y > height) {\n                    platforms[i] = new Platform();\n                    platforms[i].y = p.y - height;\n                }\n\n            });\n\n            base.y -= player.vy;\n            player.vy += gravity;\n\n            if ( player.vy >= 0 ) {\n                player.y += player.vy;\n                player.vy += gravity;\n            }\n\n            if (!(Math.ceil(player.y + 2) >= Math.floor(height / 2 - player.height / 2))) {\n                score++;\n            }\n        }\n\n        //Make the player jump when it collides with platforms\n        collides();\n\n        if (player.isDead === true) {\n            gameOver();\n        }\n    }\n\n    //Spring algorithms\n\n    function springCalc() {\n        var s = Spring;\n        var p = platforms[0];\n\n        if (p.type == 1 || p.type == 2) {\n            s.x = p.x + p.width / 2 - s.width / 2;\n            s.y = p.y - p.height - 10;\n\n            if (s.y > height / 1.1) {\n                s.state = 0;\n            }\n\n            s.draw();\n        } else {\n            s.x = 0 - s.width;\n            s.y = 0 - s.height;\n        }\n    }\n\n    //Platform's horizontal movement (and falling) algo\n\n    function platformCalc() {\n    var subs = platform_broken_substitute;\n\n    platforms.forEach(function(p, i) {\n        if (p.type == 2) {\n            if (p.x < 0 || p.x + p.width > width) {\n                p.vx *= -1;\n            }\n\n            p.x += p.vx;\n        }\n\n        if (p.flag == 1 && subs.appearance === false && jumpCount === 0) {\n            subs.x = p.x;\n            subs.y = p.y;\n            subs.appearance = true;\n\n            jumpCount++;\n        }\n\n        p.draw();\n    });\n\n        if (subs.appearance === true) {\n            subs.draw();\n            subs.y += 8;\n        }\n\n        if (subs.y > height) {\n            subs.appearance = false;\n        }\n    }\n\n    function collides() {\n        //Platforms\n        platforms.forEach(function(p, i) {\n            if (\n                player.vy > 0 &&\n                p.state === 0 &&\n                (player.x + 15 < p.x + p.width) &&\n                (player.x + player.width - 15 > p.x) &&\n                (player.y + player.height > p.y) &&\n                (player.y + player.height < p.y + p.height)\n            ) {\n                if (p.type == 3 && p.flag === 0) {\n                    p.flag = 1;\n                    jumpCount = 0;\n\n                    return;\n                } else if (p.type == 4 && p.state === 0) {\n                    player.jump();\n                    p.state = 1;\n                } else if (p.flag == 1) {\n                    return;\n                } else {\n                    player.jump();\n                }\n            }\n        });\n\n        //Springs\n        var s = Spring;\n        if (player.vy > 0 &&\n            (s.state === 0) &&\n            (player.x + 15 < s.x + s.width) &&\n            (player.x + player.width - 15 > s.x) &&\n            (player.y + player.height > s.y) &&\n            (player.y + player.height < s.y + s.height)\n        ) {\n            s.state = 1;\n            player.jumpHigh();\n        }\n\n    }\n\n    function updateScore() {\n        var scoreText = document.getElementById(\"score\");\n        scoreText.innerHTML = score;\n    }\n\n    function gameOver() {\n        tgames.gameOver( score );\n        tgames.showRewardedAd();\n\n        containerButton.style.display = 'none';\n        platforms.forEach(function(p, i) {\n            p.y -= 12;\n        });\n\n        if ( player.y > height/2 && flag === 0 ) {\n            player.y -= 8;\n            player.vy = 0;\n        } else if (player.y < height / 2 ) {\n            flag = 1;\n        } else if ( player.y + player.height > height ) {\n            showGoMenu();\n            hideScore();\n            player.isDead = \"lol\";\n        }\n    }\n\n    //Function to update everything\n\n    function update() {\n        paintCanvas();\n        platformCalc();\n\n        springCalc();\n\n        playerCalc();\n        player.draw();\n\n        base.draw();\n\n        updateScore();\n    }\n\n    menuLoop = function(){\n        return;\n    };\n\n    animloop = function() {\n        update();\n        requestAnimFrame(animloop);\n    };\n\n    animloop();\n\n    hideMenu();\n    showScore();\n}\n\nfunction reset() {\n    tgames.gameStarted();\n    containerButton.style.display = 'flex';\n\n    hideGoMenu();\n    showScore();\n    player.isDead = false;\n\n    flag = 0;\n    position = 0;\n    score = 0;\n\n    base = new Base();\n    player = new Player();\n    Spring = new spring();\n    platform_broken_substitute = new Platform_broken_substitute();\n\n    platforms = [];\n    for (var i = 0; i < platformCount; i++) {\n        platforms.push(new Platform());\n    }\n}\n\n//Hides the menu\nfunction hideMenu() {\n    var menu = document.getElementById(\"mainMenu\");\n    menu.style.zIndex = -1;\n}\n\n//Shows the game over menu\nfunction showGoMenu() {\n    var menu = document.getElementById(\"gameOverMenu\");\n    menu.style.zIndex = 1;\n    menu.style.visibility = \"visible\";\n\n    var scoreText = document.getElementById(\"go_score\");\n    scoreText.innerHTML = \"Ваш результат \" + score + \" очков!\";\n}\n\n//Hides the game over menu\nfunction hideGoMenu() {\n    var menu = document.getElementById(\"gameOverMenu\");\n    menu.style.zIndex = -1;\n    menu.style.visibility = \"hidden\";\n}\n\n//Show ScoreBoard\nfunction showScore() {\n    var menu = document.getElementById(\"scoreBoard\");\n    menu.style.zIndex = 1;\n}\n\n//Hide ScoreBoard\nfunction hideScore() {\n    var menu = document.getElementById(\"scoreBoard\");\n    menu.style.zIndex = -1;\n}\n\nfunction playerJump() {\n    player.y += player.vy;\n    player.vy += gravity;\n\n    if (player.vy > 0 &&\n        (player.x + 15 < 260) &&\n        (player.x + player.width - 15 > 155) &&\n        (player.y + player.height > 475) &&\n        (player.y + player.height < 500)\n    ) {\n        player.jump();\n    }\n\n    if (dir == \"left\") {\n        player.dir = \"left\";\n        if (player.vy < -7 && player.vy > -15) {\n            player.dir = \"left_land\";\n        }\n    } else if (dir == \"right\") {\n        player.dir = \"right\";\n        if (player.vy < -7 && player.vy > -15) {\n            player.dir = \"right_land\";\n        }\n    }\n\n    //Adding keyboard controls\n    document.onkeydown = function(e) {\n        var key = e.keyCode;\n\n        if (key == 37) {\n            dir = \"left\";\n            player.isMovingLeft = true;\n        } else if (key == 39) {\n            dir = \"right\";\n            player.isMovingRight = true;\n        }\n\n        if(key == 32) {\n            if ( firstRun === true ) {\n                init();\n                firstRun = false;\n            } else {\n                reset();\n            }\n        }\n    };\n\n    document.onkeyup = function(e) {\n        var key = e.keyCode;\n\n        if (key == 37) {\n            dir = \"left\";\n            player.isMovingLeft = false;\n        } else if (key == 39) {\n            dir = \"right\";\n            player.isMovingRight = false;\n        }\n    };\n\n    //Accelerations produces when the user hold the keys\n    if (player.isMovingLeft === true) {\n        player.x += player.vx;\n        player.vx -= 0.15;\n    } else {\n        player.x += player.vx;\n        if (player.vx < 0) {\n            player.vx += 0.1;\n        }\n    }\n\n    if (player.isMovingRight === true) {\n        player.x += player.vx;\n        player.vx += 0.15;\n    } else {\n        player.x += player.vx;\n        if (player.vx > 0) {\n            player.vx -= 0.1;\n        }\n    }\n\n    // Jump the player when it hits the base\n    if ((player.y + player.height) > base.y && base.y < height) {\n        player.jump();\n    }\n\n    // Make the player move through walls\n    if (player.x > width) {\n        player.x = 0 - player.width;\n    } else if (player.x < 0 - player.width) {\n        player.x = width;\n    }\n\n    player.draw();\n}\n\nfunction update() {\n    ctx.clearRect(0, 0, width, height);\n    playerJump();\n}\n\nmenuLoop = function() {\n    update();\n    requestAnimFrame(menuLoop);\n};\n\nmenuLoop();\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nlet premissionGranted = false;\n\nif (window.DeviceOrientationEvent) {\n    // Мы узнали, что у пользователя есть доступ к гироскопу\n    if (typeof(DeviceOrientationEvent) !== 'undefined' && typeof(DeviceOrientationEvent.requestPermission) === 'function') {\n        // Ios 13 device\n        // Теперь нам нужно попросить у него доступ\n        document.getElementById('alpha').addEventListener('click', requestAccess);\n    } else {\n        // Not ios 13 device\n    }\n}\n\nfunction requestAccess() {\n    DeviceOrientationEvent.requestPermission()\n        .then(response => {\n            alert(response)\n            if (response == 'granted') {\n                premissionGranted = true;\n                window.addEventListener('deviceorientation', handleFunc, false);\n            }\n        })\n        .catch(error => console.log(error))\n}\n\nfunction handleFunc(event) {\n    if (!premissionGranted) {\n        return;\n    }\n    let alpha = event.alpha;\n    let beta = event.beta;\n    let gamma = event.gamma;\n    console.log('device!')\n\n    document.getElementById('alpha').innerHTML = `alpha - ${alpha}`;\n    document.getElementById('betta').innerHTML = `gamma - ${beta}`;\n    document.getElementById('gamma').innerHTML = `betta - ${gamma}`;\n}\n"],"names":["window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","canvas","document","getElementById","ctx","getContext","addEventListener","init","reset","containerButton","querySelector","width","Math","min","innerWidth","height","innerHeight","screen","player","animloop","dir","platforms","image","position","gravity","flag","broken","score","firstRun","Base","this","cx","cy","cwidth","cheight","moved","x","y","draw","drawImage","e","base","Player","vy","vx","isMovingLeft","isMovingRight","isDead","jump","jumpHigh","Platform","random","state","type","types","floor","length","i","push","Platform_broken_substitute","appearance","platform_broken_substitute","spring","Spring","tgames","gameStarted","jumpCount","leftButton","rightButton","handleKeydown","event","key","keyCode","handleKeyup","handleTouchStart","side","preventDefault","style","background","handleTouchEnd","update","subs","s","p","menu","clearRect","forEach","onkeydown","onkeyup","ceil","collides","gameOver","showRewardedAd","display","zIndex","visibility","innerHTML","menuLoop","showScore","premissionGranted","handleFunc","alpha","beta","gamma","console","log","DeviceOrientationEvent","requestPermission","then","response","alert","catch","error"],"sourceRoot":""}