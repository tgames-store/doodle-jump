{"version":3,"file":"bundle.98d68f122494f477.js","mappings":"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","sources":["webpack:///./src/script.js"],"sourcesContent":["// RequestAnimFrame: a browser API for getting smooth animations\nwindow.requestAnimFrame = ( function() {\n    return window.requestAnimationFrame ||\n        window.webkitRequestAnimationFrame ||\n        window.mozRequestAnimationFrame ||\n        window.oRequestAnimationFrame ||\n        window.msRequestAnimationFrame ||\n        function(callback) {\n            window.setTimeout(callback, 1000 / 60);\n        };\n})();\n\n// todo: Исправить внешний вид методов\n\nvar canvas = document.getElementById('canvas'),\nctx = canvas.getContext('2d');\n\nconst playButton = document.getElementById('start-button');\nlet handlePlayButton = playButton.addEventListener('click', init);\n\nconst resetButton =  document.getElementById('reset');\nresetButton.addEventListener('click', reset);\n\nconst skipButton = document.getElementById('skip-button');\nskipButton.addEventListener('click', showGoMenu);\n\nconst watchAdsButton = document.getElementById('watch-ads-button');\nwatchAdsButton.addEventListener('click', handleWatchAds);\n\nconst containerButton = document.querySelector('.btn-container');\nvar continueMenu = document.getElementById(\"continue-menu\");\nvar gameOverMenu = document.getElementById(\"gameOverMenu\");\n\n// var width = 422,\n// height = 552;\nlet width = Math.min(window.innerWidth, 500);\nlet height = window.innerHeight;\nlet listenerResize;\nlet spareLife = true;\nlet countShowAds = 3;\nlet timeoutAds;\nlet continueGame = false;\n\nlistenerResize = window.addEventListener('resize', handleResize)\nfunction handleResize() {\n    ctx.canvas.width = window.innerWidth;\n    ctx.canvas.height = window.innerHeight;\n    width = Math.min(window.innerWidth, 500);\n    height = window.innerHeight;\n}\n\nfunction handleWatchAds() {\n    try {\n        tgames.showRewardedAd()\n            .then(() => {\n                reset();\n            })\n        spareLife = false;\n        continueGame = true;\n        clearTimeout(timeoutAds);\n    } catch (e) {\n        console.log(e)\n\n        spareLife = false;\n        continueGame = true;\n\n        reset();\n        clearTimeout(timeoutAds);\n    }\n\n    countShowAds--;\n}\n\ncanvas.width = width;\ncanvas.height = height;\n\n//Variables for game\nvar platforms = [],\nimage = document.getElementById(\"sprite\"),\nplayer, platformCount = 10,\nposition = 0,\ngravity = 0.2,\nanimloop,\nflag = 0,\nmenuloop, broken = 0,\ndir, score = 0, firstRun = true;\n\n//Base object\nvar Base = function() {\n    this.height = 5;\n    this.width = width;\n\n    //Sprite clipping\n    this.cx = 0;\n    this.cy = 614;\n    this.cwidth = 100;\n    this.cheight = 5;\n\n    this.moved = 0;\n\n    this.x = 0;\n    this.y = height - this.height;\n\n    this.draw = function() {\n        try {\n            ctx.drawImage(\n                image,\n                this.cx,\n                this.cy,\n                this.cwidth,\n                this.cheight,\n                this.x,\n                this.y,\n                this.width,\n                this.height\n            );\n        } catch (e) {}\n    };\n};\n\nvar base = new Base();\n\n//Player object\nvar Player = function() {\n    this.vy = 11;\n    this.vx = 0;\n\n    this.isMovingLeft = false;\n    this.isMovingRight = false;\n    this.isDead = false;\n\n    this.width = 55;\n    this.height = 40;\n\n    //Sprite clipping\n    this.cx = 0;\n    this.cy = 0;\n    this.cwidth = 110;\n    this.cheight = 80;\n\n    this.dir = \"left\";\n\n    this.x = width / 2 - this.width / 2;\n    this.y = height;\n\n    //Function to draw it\n    this.draw = function() {\n        try {\n            if (this.dir == \"right\") {\n                this.cy = 121;\n            } else if (this.dir == \"left\") {\n                this.cy = 201;\n            } else if (this.dir == \"right_land\") {\n                this.cy = 289;\n            } else if (this.dir == \"left_land\") {\n                this.cy = 371;\n            }\n\n            ctx.drawImage(\n                image,\n                this.cx,\n                this.cy,\n                this.cwidth,\n                this.cheight,\n                this.x,\n                this.y,\n                this.width,\n                this.height\n            );\n        } catch (e) {}\n    };\n\n    this.jump = function() {\n        this.vy = -8;\n        // document.getElementById('audio').innerHTML='<audio src=\"sounds/jump.mp3\" preload=\"auto\" autoplay autobuffer></audio>'\n    };\n\n    this.jumpHigh = function() {\n        this.vy = -16;\n        // document.getElementById('audio').innerHTML='<audio src=\"sounds/jump.mp3\" preload=\"auto\" autoplay autobuffer></audio>'\n    };\n};\n\nplayer = new Player();\n\n//Platform class\n\nfunction Platform() {\n    this.width = 70;\n    this.height = 17;\n\n    this.x = Math.random() * (width - this.width);\n    this.y = position;\n\n    position += (height / platformCount);\n\n    this.flag = 0;\n    this.state = 0;\n\n    //Sprite clipping\n    this.cx = 0;\n    this.cy = 0;\n    this.cwidth = 105;\n    this.cheight = 31;\n\n    //Function to draw it\n    this.draw = function() {\n        try {\n            if (this.type == 1) {\n                this.cy = 0;\n            } else if (this.type == 2) {\n                this.cy = 61;\n            } else if (this.type == 3 && this.flag === 0) {\n                this.cy = 31;\n            } else if (this.type == 3 && this.flag == 1) {\n                this.cy = 1000;\n            } else if (this.type == 4 && this.state === 0) {\n                this.cy = 90;\n            } else if (this.type == 4 && this.state == 1) {\n                this.cy = 1000;\n            }\n\n            ctx.drawImage(\n                image,\n                this.cx,\n                this.cy,\n                this.cwidth,\n                this.cheight,\n                this.x,\n                this.y,\n                this.width,\n                this.height\n            );\n        } catch (e) {}\n    };\n\n    //Platform types\n    //1: Normal\n    //2: Moving\n    //3: Breakable (Go through)\n    //4: Vanishable\n    //Setting the probability of which type of platforms should be shown at what score\n    if (score >= 5000) {\n        this.types = [2, 3, 3, 3, 4, 4, 4, 4];\n    } else if (score >= 2000 && score < 5000) {\n        this.types = [2, 2, 2, 3, 3, 3, 3, 4, 4, 4, 4];\n    } else if (score >= 1000 && score < 2000) {\n        this.types = [2, 2, 2, 3, 3, 3, 3, 3];\n    } else if (score >= 500 && score < 1000) {\n        this.types = [1, 1, 1, 1, 1, 2, 2, 2, 2, 3, 3, 3, 3];\n    } else if (score >= 100 && score < 500) {\n        this.types = [1, 1, 1, 1, 2, 2];\n    } else {\n        this.types = [1];\n    }\n\n    this.type = this.types[Math.floor(Math.random() * this.types.length)];\n\n    //We can't have two consecutive breakable platforms otherwise it will be impossible to reach another platform sometimes!\n    if (this.type == 3 && broken < 1) {\n        broken++;\n    } else if (this.type == 3 && broken >= 1) {\n        this.type = 1;\n        broken = 0;\n    }\n\n    this.moved = 0;\n    this.vx = 1;\n}\n\nfor ( var i = 0; i < platformCount; i++ ) {\n    platforms.push(new Platform());\n}\n\n//Broken platform object\nvar Platform_broken_substitute = function() {\n    this.height = 30;\n    this.width = 70;\n\n    this.x = 0;\n    this.y = 0;\n\n    //Sprite clipping\n    this.cx = 0;\n    this.cy = 554;\n    this.cwidth = 105;\n    this.cheight = 60;\n\n    this.appearance = false;\n\n    this.draw = function() {\n        try {\n            if (this.appearance === true) {\n                ctx.drawImage(\n                    image,\n                    this.cx,\n                    this.cy,\n                    this.cwidth,\n                    this.cheight,\n                    this.x,\n                    this.y,\n                    this.width,\n                    this.height\n                );\n            } else {\n                return;\n            }\n        } catch (e) {}\n    };\n};\n\nvar platform_broken_substitute = new Platform_broken_substitute();\n\n//Spring Class\nvar spring = function() {\n    this.x = 0;\n    this.y = 0;\n\n    this.width = 26;\n    this.height = 30;\n\n    //Sprite clipping\n    this.cx = 0;\n    this.cy = 0;\n    this.cwidth = 45;\n    this.cheight = 53;\n\n    this.state = 0;\n\n    this.draw = function() {\n        try {\n            if (this.state === 0) {\n                this.cy = 445;\n            } else if (this.state == 1) {\n                this.cy = 501;\n            }\n\n            ctx.drawImage(\n                image,\n                this.cx,\n                this.cy,\n                this.cwidth,\n                this.cheight,\n                this.x,\n                this.y,\n                this.width,\n                this.height\n            );\n        } catch (e) {}\n    };\n};\n\nvar Spring = new spring();\n\nfunction init() {\n    tgames.gameStarted();\n    document.getElementById('start-menu').style.display = 'none';\n    // document.removeEventListener('click', handlePlayButton);\n    handleResize();\n\n    //Variables for the game\n    let\tdir = \"left\",\n    jumpCount = 0;\n\n    const leftButton = document.getElementById('left-btn');\n    const rightButton = document.getElementById('right-btn');\n    containerButton.style.display = 'flex';\n    firstRun = false;\n\n    //Function for clearing canvas in each consecutive frame\n\n    function paintCanvas() {\n        ctx.clearRect(0, 0, width, height);\n    }\n\n    function handleKeydown(event) {\n        var key = event.keyCode;\n\n        if (key == 37) {\n            dir = \"left\";\n            player.isMovingLeft = true;\n        } else if (key == 39) {\n            dir = \"right\";\n            player.isMovingRight = true;\n        }\n\n        if (key == 32) {\n            if ( firstRun === true ) {\n                init();\n            } else {\n                reset();\n            }\n        }\n    };\n\n    function handleKeyup(event) {\n        var key = event.keyCode;\n\n        if (key == 37) {\n            dir = \"left\";\n            player.isMovingLeft = false;\n        } else if (key == 39) {\n            dir = \"right\";\n            player.isMovingRight = false;\n        }\n    };\n\n    function handleTouchStart(event, side) {\n        event.preventDefault();\n        if (side === 'left') {\n            leftButton.style.background = 'red';\n            dir = \"left\";\n            player.isMovingLeft = true;\n        } else if (side === 'right')  {\n            rightButton.style.background = 'red';\n            dir = \"right\";\n            player.isMovingRight = true;\n        }\n    }\n\n    function handleTouchEnd(event, side) {\n        event.preventDefault();\n        if (side === 'left') {\n            leftButton.style.background = 'darkgrey';\n            dir = \"left\";\n            player.isMovingLeft = false;\n        } else if (side === 'right'){\n            rightButton.style.background = 'darkgrey';\n            dir = \"right\";\n            player.isMovingRight = false;\n        }\n    }\n\n    // Player related calculations and functions\n\n    function playerCalc() {\n        if (dir == \"left\") {\n            player.dir = \"left\";\n            if (player.vy < -7 && player.vy > -15) {\n                player.dir = \"left_land\";\n            }\n        } else if (dir == \"right\") {\n            player.dir = \"right\";\n            if (player.vy < -7 && player.vy > -15) {\n                player.dir = \"right_land\";\n            }\n        }\n\n        // add controls with keyboard\n        document.onkeydown = handleKeydown;\n        document.onkeyup = handleKeyup;\n\n        // add btn controls for mobile\n        leftButton.addEventListener('touchstart', (event) => handleTouchStart(event, 'left'));\n        rightButton.addEventListener('touchstart', (event) => handleTouchStart(event, 'right'));\n\n        leftButton.addEventListener('touchend', (event) => handleTouchEnd(event, 'left'));\n        rightButton.addEventListener('touchend', (event) => handleTouchEnd(event, 'right'));\n\n        // Accelerations produces when the user hold the keys\n        if (player.isMovingLeft === true) {\n            player.x += player.vx;\n            player.vx -= 0.15;\n        } else {\n            player.x += player.vx;\n            if ( player.vx < 0 ) {\n                player.vx += 0.1;\n            }\n        }\n\n        if (player.isMovingRight === true) {\n            player.x += player.vx;\n            player.vx += 0.15;\n        } else {\n            player.x += player.vx;\n            if (player.vx > 0) {\n                player.vx -= 0.1;\n            }\n        }\n\n        //Jump the player when it hits the base\n        if ((player.y + player.height) > base.y && base.y < height) {\n            player.jump();\n        }\n\n        // Gameover if it hits the bottom\n        if (base.y > height && (player.y + player.height) > height && player.isDead != \"lol\") {\n            player.isDead = true;\n            // document.getElementById('audio').innerHTML='<audio src=\"sounds/jump.mp3\" preload=\"auto\" autoplay autobuffer></audio>'\n        }\n\n        // Make the player move through walls\n        if (player.x > width) {\n            player.x = 0 - player.width;\n        } else if (player.x < 0 - player.width) {\n            player.x = width;\n        }\n\n        // Movement of player affected by gravity\n        if (Math.ceil(player.y) >= Math.floor(height / 2 - player.height / 2)) {\n            player.y += player.vy;\n            player.vy += gravity;\n        } else {\n            //When the player reaches half height, move the platforms to create the illusion of scrolling and recreate the platforms that are out of viewport...\n            platforms.forEach(function(p, i) {\n                if (player.vy < 0) {\n                    p.y -= player.vy;\n                }\n\n                if (p.y > height) {\n                    platforms[i] = new Platform();\n                    platforms[i].y = p.y - height;\n                }\n\n            });\n\n            base.y -= player.vy;\n            player.vy += gravity;\n\n            if ( player.vy >= 0 ) {\n                player.y += player.vy;\n                player.vy += gravity;\n            }\n\n            if (!(Math.ceil(player.y + 2) >= Math.floor(height / 2 - player.height / 2))) {\n                score++;\n            }\n        }\n\n        //Make the player jump when it collides with platforms\n        collides();\n\n        if (player.isDead === true) {\n            gameOver();\n        }\n    }\n\n    //Spring algorithms\n\n    function springCalc() {\n        var s = Spring;\n        var p = platforms[0];\n\n        if (p.type == 1 || p.type == 2) {\n            s.x = p.x + p.width / 2 - s.width / 2;\n            s.y = p.y - p.height - 10;\n\n            if (s.y > height / 1.1) {\n                s.state = 0;\n            }\n\n            s.draw();\n        } else {\n            s.x = 0 - s.width;\n            s.y = 0 - s.height;\n        }\n    }\n\n    //Platform's horizontal movement (and falling) algo\n\n    function platformCalc() {\n        var subs = platform_broken_substitute;\n\n        platforms.forEach(function(p, i) {\n            if (p.type == 2) {\n                if (p.x < 0 || p.x + p.width > width) {\n                    p.vx *= -1;\n                }\n\n                p.x += p.vx;\n            }\n\n            if (p.flag == 1 && subs.appearance === false && jumpCount === 0) {\n                subs.x = p.x;\n                subs.y = p.y;\n                subs.appearance = true;\n\n                jumpCount++;\n            }\n\n            p.draw();\n        });\n\n        if (subs.appearance === true) {\n            subs.draw();\n            subs.y += 8;\n        }\n\n        if (subs.y > height) {\n            subs.appearance = false;\n        }\n    }\n\n    function collides() {\n        //Platforms\n        platforms.forEach(function(p, i) {\n            if (\n                player.vy > 0 &&\n                p.state === 0 &&\n                (player.x + 15 < p.x + p.width) &&\n                (player.x + player.width - 15 > p.x) &&\n                (player.y + player.height > p.y) &&\n                (player.y + player.height < p.y + p.height)\n            ) {\n                if (p.type == 3 && p.flag === 0) {\n                    p.flag = 1;\n                    jumpCount = 0;\n\n                    return;\n                } else if (p.type == 4 && p.state === 0) {\n                    player.jump();\n                    p.state = 1;\n                } else if (p.flag == 1) {\n                    return;\n                } else {\n                    player.jump();\n                }\n            }\n        });\n\n        //Springs\n        var s = Spring;\n        if (player.vy > 0 &&\n            (s.state === 0) &&\n            (player.x + 15 < s.x + s.width) &&\n            (player.x + player.width - 15 > s.x) &&\n            (player.y + player.height > s.y) &&\n            (player.y + player.height < s.y + s.height)\n        ) {\n            s.state = 1;\n            player.jumpHigh();\n        }\n\n    }\n\n    function updateScore() {\n        var scoreText = document.getElementById(\"score\");\n        scoreText.innerHTML = score;\n    }\n\n    function gameOver() {\n        tgames.gameOver( score );\n        // tgames.showRewardedAd();\n\n        containerButton.style.display = 'none';\n        platforms.forEach(function(p, i) {\n            p.y -= 12;\n        });\n\n        if ( player.y > height/2 && flag === 0 ) {\n            player.y -= 8;\n            player.vy = 0;\n        } else if (player.y < height / 2 ) {\n            flag = 1;\n        } else if ( player.y + player.height > height ) {\n            if (spareLife) {\n                showContinueMenu();\n\n                spareLife = false;\n            } else {\n                showGoMenu();\n            }\n            hideScore();\n            player.isDead = \"lol\";\n        }\n    }\n\n    //Function to update everything\n\n    function update() {\n        paintCanvas();\n        platformCalc();\n\n        springCalc();\n\n        playerCalc();\n        player.draw();\n\n        base.draw();\n\n        updateScore();\n    }\n\n    menuLoop = function(){\n        return;\n    };\n\n    animloop = function() {\n        update();\n        requestAnimFrame(animloop);\n    };\n\n    animloop();\n\n    hideMenu();\n    showScore();\n}\n\nfunction reset() {\n    containerButton.style.display = 'flex';\n    document.getElementById('reset-menu').style.display = 'none';\n\n    hideGoMenu();\n    showScore();\n    player.isDead = false;\n\n    flag = 0;\n    position = 0;\n    if (!continueGame) {\n        score = 0;\n        tgames.gameStarted();\n    }\n\n    continueGame = false;\n\n    base = new Base();\n    player = new Player();\n    Spring = new spring();\n    platform_broken_substitute = new Platform_broken_substitute();\n\n    platforms = [];\n    for (var i = 0; i < platformCount; i++) {\n        platforms.push(new Platform());\n    }\n}\n\n//Hides the menu\nfunction hideMenu() {\n    var menu = document.getElementById(\"mainMenu\");\n    menu.style.zIndex = -1;\n}\n\n//Shows the game over menu\nfunction showGoMenu() {\n    continueMenu.style.zIndex = -1;\n    continueMenu.style.display = \"none\";\n    clearTimeout(timeoutAds);\n    spareLife = true;\n\n    document.getElementById('line').style.display = 'none';\n    document.getElementById('reset-menu').style.display = 'flex';\n    document.getElementById('reset-button')\n        .addEventListener('click', reset)\n\n    if (countShowAds === 0 || countShowAds < 0) {\n        tgames.showRewardedAd();\n        countShowAds = 3;\n    }\n\n    var scoreText = document.getElementById(\"go_score\");\n    scoreText.innerHTML = \"Ваш результат \" + score + \" очков!\";\n    countShowAds--;\n}\n\nfunction showContinueMenu() {\n    continueMenu.style.zIndex = 1;\n    continueMenu.style.display = \"flex\";\n\n    document.getElementById('line').style.display = 'block';\n\n    timeoutAds = setTimeout(() => {\n        showGoMenu();\n    },8000);\n}\n\n//Hides the game over menu\nfunction hideGoMenu() {\n    continueMenu.style.zIndex = -1;\n    continueMenu.style.display = \"flex\";\n\n    gameOverMenu.style.zIndex = -1;\n    gameOverMenu.style.visibility = \"hidden\";\n}\n\n//Show ScoreBoard\nfunction showScore() {\n    var menu = document.getElementById(\"scoreBoard\");\n    menu.style.zIndex = 1;\n}\n\n//Hide ScoreBoard\nfunction hideScore() {\n    var menu = document.getElementById(\"scoreBoard\");\n    menu.style.zIndex = -1;\n}\n\nfunction playerJump() {\n    player.y += player.vy;\n    player.vy += gravity;\n\n    if (player.vy > 0 &&\n        (player.x + 15 < 260) &&\n        (player.x + player.width - 15 > 155) &&\n        (player.y + player.height > 475) &&\n        (player.y + player.height < 500)\n    ) {\n        player.jump();\n    }\n\n    if (dir == \"left\") {\n        player.dir = \"left\";\n        if (player.vy < -7 && player.vy > -15) {\n            player.dir = \"left_land\";\n        }\n    } else if (dir == \"right\") {\n        player.dir = \"right\";\n        if (player.vy < -7 && player.vy > -15) {\n            player.dir = \"right_land\";\n        }\n    }\n\n    //Adding keyboard controls\n    document.onkeydown = function(e) {\n        var key = e.keyCode;\n\n        if (key == 37) {\n            dir = \"left\";\n            player.isMovingLeft = true;\n        } else if (key == 39) {\n            dir = \"right\";\n            player.isMovingRight = true;\n        }\n\n        if(key == 32) {\n            if ( firstRun === true ) {\n                init();\n                firstRun = false;\n            } else {\n                reset();\n            }\n        }\n    };\n\n    document.onkeyup = function(e) {\n        var key = e.keyCode;\n\n        if (key == 37) {\n            dir = \"left\";\n            player.isMovingLeft = false;\n        } else if (key == 39) {\n            dir = \"right\";\n            player.isMovingRight = false;\n        }\n    };\n\n    //Accelerations produces when the user hold the keys\n    if (player.isMovingLeft === true) {\n        player.x += player.vx;\n        player.vx -= 0.15;\n    } else {\n        player.x += player.vx;\n        if (player.vx < 0) {\n            player.vx += 0.1;\n        }\n    }\n\n    if (player.isMovingRight === true) {\n        player.x += player.vx;\n        player.vx += 0.15;\n    } else {\n        player.x += player.vx;\n        if (player.vx > 0) {\n            player.vx -= 0.1;\n        }\n    }\n\n    // Jump the player when it hits the base\n    if ((player.y + player.height) > base.y && base.y < height) {\n        player.jump();\n    }\n\n    // Make the player move through walls\n    if (player.x > width) {\n        player.x = 0 - player.width;\n    } else if (player.x < 0 - player.width) {\n        player.x = width;\n    }\n\n    player.draw();\n}\n\nfunction update() {\n    ctx.clearRect(0, 0, width, height);\n    // playerJump();\n}\n\nmenuLoop = function() {\n    update();\n    requestAnimFrame(menuLoop);\n};\n\nmenuLoop();\nhideMenu();\n\n\n\n\n\n\n\n\n\n\n\n\nlet premissionGranted = false;\n\nif (window.DeviceOrientationEvent) {\n    // Мы узнали, что у пользователя есть доступ к гироскопу\n    if (typeof(DeviceOrientationEvent) !== 'undefined' && typeof(DeviceOrientationEvent.requestPermission) === 'function') {\n        // Ios 13 device\n        // Теперь нам нужно попросить у него доступ\n        document.getElementById('alpha').addEventListener('click', requestAccess);\n    } else {\n        // Not ios 13 device\n    }\n}\n\nfunction requestAccess() {\n    DeviceOrientationEvent.requestPermission()\n        .then(response => {\n            alert(response)\n            if (response == 'granted') {\n                premissionGranted = true;\n                window.addEventListener('deviceorientation', handleFunc, false);\n            }\n        })\n        .catch(error => console.log(error))\n}\n\nfunction handleFunc(event) {\n    if (!premissionGranted) {\n        return;\n    }\n    let alpha = event.alpha;\n    let beta = event.beta;\n    let gamma = event.gamma;\n    console.log('device!')\n\n    document.getElementById('alpha').innerHTML = `alpha - ${alpha}`;\n    document.getElementById('betta').innerHTML = `gamma - ${beta}`;\n    document.getElementById('gamma').innerHTML = `betta - ${gamma}`;\n}\n"],"names":["window","requestAnimFrame","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","oRequestAnimationFrame","msRequestAnimationFrame","callback","setTimeout","canvas","document","getElementById","ctx","getContext","addEventListener","init","tgames","gameStarted","style","display","handleResize","dir","jumpCount","leftButton","rightButton","handleKeydown","event","key","keyCode","player","isMovingLeft","isMovingRight","firstRun","reset","handleKeyup","handleTouchStart","side","preventDefault","background","handleTouchEnd","update","subs","s","p","clearRect","width","height","platform_broken_substitute","platforms","forEach","i","type","x","vx","flag","appearance","y","draw","Spring","state","vy","onkeydown","onkeyup","base","jump","isDead","Math","ceil","floor","Platform","score","jumpHigh","collides","gameOver","containerButton","spareLife","continueMenu","zIndex","timeoutAds","showGoMenu","innerHTML","menuLoop","animloop","hideMenu","showScore","showRewardedAd","then","continueGame","clearTimeout","e","console","log","countShowAds","querySelector","gameOverMenu","listenerResize","min","innerWidth","innerHeight","image","position","broken","Base","this","cx","cy","cwidth","cheight","moved","drawImage","Player","random","types","length","push","Platform_broken_substitute","spring","visibility","premissionGranted","handleFunc","alpha","beta","gamma","DeviceOrientationEvent","requestPermission","response","alert","catch","error"],"sourceRoot":""}